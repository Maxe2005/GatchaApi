{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "üöÄ D√©marrer tous les services",
            "type": "shell",
            "command": "docker compose up -d",
            "problemMatcher": [],
            "group": "build",
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            }
        },
        {
            "label": "üõë Arr√™ter tous les services",
            "type": "shell",
            "command": "docker compose down",
            "problemMatcher": [],
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            }
        },
        {
            "label": "üîÑ Rebuild et red√©marrer",
            "type": "shell",
            "command": "docker compose up -d --build",
            "problemMatcher": [],
            "group": "build",
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            }
        },
        {
            "label": "üìã Voir les logs",
            "type": "shell",
            "command": "docker compose logs -f",
            "isBackground": true,
            "problemMatcher": [],
            "presentation": {
                "reveal": "always",
                "panel": "dedicated"
            }
        },
        {
            "label": "üî® Build API Invocations",
            "type": "shell",
            "command": "./mvnw clean package -DskipTests",
            "options": {
                "cwd": "${workspaceFolder}/API_invocations"
            },
            "problemMatcher": [
                "$maven"
            ],
            "group": "build",
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            }
        },
        {
            "label": "üî® Build API Authentification",
            "type": "shell",
            "command": "./mvnw clean package -DskipTests",
            "options": {
                "cwd": "${workspaceFolder}/API_authentification"
            },
            "problemMatcher": [
                "$maven"
            ],
            "group": "build",
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            }
        },
        {
            "label": "üî® Build API Combat",
            "type": "shell",
            "command": "./mvnw clean package -DskipTests",
            "options": {
                "cwd": "${workspaceFolder}/API_combat"
            },
            "problemMatcher": [
                "$maven"
            ],
            "group": "build",
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            }
        },
        {
            "label": "üî® Build API Joueur",
            "type": "shell",
            "command": "./mvnw clean package -DskipTests",
            "options": {
                "cwd": "${workspaceFolder}/API_joueur"
            },
            "problemMatcher": [
                "$maven"
            ],
            "group": "build",
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            }
        },
        {
            "label": "üî® Build API Monstres",
            "type": "shell",
            "command": "./mvnw clean package -DskipTests",
            "options": {
                "cwd": "${workspaceFolder}/API_monstres"
            },
            "problemMatcher": [
                "$maven"
            ],
            "group": "build",
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            }
        },
        {
            "label": "üß™ Tests API Invocations",
            "type": "shell",
            "command": "./mvnw test",
            "options": {
                "cwd": "${workspaceFolder}/API_invocations"
            },
            "problemMatcher": [
                "$maven"
            ],
            "group": "test",
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            }
        },
        {
            "label": "üßπ Clean tous les builds Maven",
            "type": "shell",
            "command": "for dir in API_authentification API_combat API_invocations API_joueur API_monstres; do (cd $dir && ./mvnw clean); done",
            "problemMatcher": [],
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            }
        },
        {
            "label": "üíª D√©marrer Front Dev",
            "type": "shell",
            "command": "npm run dev",
            "options": {
                "cwd": "${workspaceFolder}/Gatcha_Front"
            },
            "isBackground": true,
            "problemMatcher": {
                "pattern": {
                    "regexp": "^.*$",
                    "file": 1,
                    "location": 2,
                    "message": 3
                },
                "background": {
                    "activeOnStart": true,
                    "beginsPattern": "VITE.*ready in",
                    "endsPattern": "Local:.*"
                }
            },
            "presentation": {
                "reveal": "always",
                "panel": "dedicated"
            }
        },
        {
            "label": "üì¶ Install Front Dependencies",
            "type": "shell",
            "command": "npm install",
            "options": {
                "cwd": "${workspaceFolder}/Gatcha_Front"
            },
            "problemMatcher": [],
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            }
        },
        {
            "label": "üê≥ Rebuild un service sp√©cifique",
            "type": "shell",
            "command": "docker compose up -d --build ${input:serviceName}",
            "problemMatcher": [],
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            }
        },
        {
            "label": "üìä Status des conteneurs",
            "type": "shell",
            "command": "docker compose ps",
            "problemMatcher": [],
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            }
        },
        {
            "label": "üóëÔ∏è Clean Docker (volumes inclus)",
            "type": "shell",
            "command": "docker compose down -v",
            "problemMatcher": [],
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            }
        }
    ],
    "inputs": [
        {
            "id": "serviceName",
            "type": "promptString",
            "description": "Nom du service √† rebuild",
            "default": "api-invocations"
        }
    ]
}